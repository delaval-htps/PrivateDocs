
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Tests d’Intégration &#8212; Documentation Private v0.1</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="Les tests fonctionnels" href="test fonctionnel.html" />
    <link rel="prev" title="Mockito" href="mockito.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="test fonctionnel.html" title="Les tests fonctionnels"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="mockito.html" title="Mockito"
             accesskey="P">précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Documentation Private v0.1</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="java.html" >Java</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="tests.html" accesskey="U">Tests</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tests-d-integration">
<h1>Tests d’Intégration<a class="headerlink" href="#tests-d-integration" title="Lien permanent vers ce titre">¶</a></h1>
<p>tests qui permettent de verifier la cohérence et efficacité de l’ensemble des composants du code (classes)
Il en existe 2 types</p>
<div class="section" id="les-test-d-integration-composants">
<h2>Les test d’intégration Composants<a class="headerlink" href="#les-test-d-integration-composants" title="Lien permanent vers ce titre">¶</a></h2>
<p>permettent de verifier si plusieurs unités de code fonctionnent entre elles dans un environnement isolé sans lien avec des composants extérieurs</p>
<div class="section" id="creation-d-un-it-composant">
<h3>Création d’un IT composant<a class="headerlink" href="#creation-d-un-it-composant" title="Lien permanent vers ce titre">¶</a></h3>
<div class="section" id="convention">
<h4>1. Convention<a class="headerlink" href="#convention" title="Lien permanent vers ce titre">¶</a></h4>
<p>Par convention on nomme une classe de test d’intégration <strong>avec IT à la fin</strong></p>
<p>exemple: <strong>CalculatorServiceIT.java</strong></p>
</div>
<div class="section" id="creation">
<h4>2. Création<a class="headerlink" href="#creation" title="Lien permanent vers ce titre">¶</a></h4>
<p>C’est le même principe qu’un <strong>test unitaire mais on n’utilise pas de mock</strong>.</p>
<p>On crée directement une instance de la classe  dont on a besoin pour notre CUT dans la partie //GIVEN:</p>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">com.openclassrooms.testing.calcul.service</span><span class="p">;</span>

<span class="kn">import static</span> <span class="nn">org.assertj.core.api.Assertions.assertThat</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CalculatorServiceIT</span> <span class="p">{</span>

    <span class="c1">// Mettre en place des objets réels non mockés</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Calculator</span> <span class="n">calculator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Calculator</span><span class="p">();</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">SolutionFormatter</span> <span class="n">formatter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SolutionFormatterImpl</span><span class="p">();</span>

    <span class="c1">// Initialiser la classe à tester</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">CalculatorService</span> <span class="n">underTest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CalculatorServiceImpl</span><span class="p">(</span><span class="n">calculator</span><span class="p">,</span> <span class="n">formatter</span><span class="p">);</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">calculatorService_shouldCalculateASolution_whenGivenACalculationModel</span><span class="p">()</span> <span class="p">{</span>
            <span class="c1">// GIVEN</span>
            <span class="kd">final</span> <span class="n">CalculationModel</span> <span class="n">calculation</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CalculationModel</span><span class="p">(</span><span class="n">CalculationType</span><span class="p">.</span><span class="na">ADDITION</span><span class="p">,</span>
                            <span class="mi">100</span><span class="p">,</span> <span class="mi">101</span><span class="p">);</span>
            <span class="c1">// WHEN</span>
            <span class="kd">final</span> <span class="n">CalculationModel</span> <span class="n">result</span> <span class="o">=</span> <span class="n">underTest</span><span class="p">.</span><span class="na">calculate</span><span class="p">(</span><span class="n">calculation</span><span class="p">);</span>

            <span class="c1">// THEN</span>
            <span class="n">assertThat</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">getSolution</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="mi">201</span><span class="p">);</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="lancement-des-it">
<h4>3. lancement des IT<a class="headerlink" href="#lancement-des-it" title="Lien permanent vers ce titre">¶</a></h4>
<p>On utilise Maven , sachant que <strong>mvn package</strong>, nous fait un build , les tests unitaires et le packaging des sources.</p>
<p>Ici on va utiliser:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$mvn verify
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="les-test-d-integration-systeme-sit">
<h2>Les Test d’intégration Système (SIT)<a class="headerlink" href="#les-test-d-integration-systeme-sit" title="Lien permanent vers ce titre">¶</a></h2>
<p>permettent de vérifier le fonctionnement de plusieurs unités au sein d’une config d’application avec des liens à des composants exterieures tels que BDD fichiers, API en réseau…</p>
</div>
<div class="section" id="les-tests-d-acceptation">
<h2>Les Tests d’acceptation<a class="headerlink" href="#les-tests-d-acceptation" title="Lien permanent vers ce titre">¶</a></h2>
<p>permettent de vérifier directement les exigeances métier exprimé par le client. Ils sont indépendants des test unitaires d’intégration classiques et des test de fonctionnnels. Ils se situent en travers de la pyramide !</p>
<p>En général on fera des tests d’acceptation le plus tot possible avec des test d’intégration systeme (SIT).
On utilisera les <strong>&#64;Tag</strong> pour les regrouper parmis les SIT.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tests d’Intégration</a><ul>
<li><a class="reference internal" href="#les-test-d-integration-composants">Les test d’intégration Composants</a><ul>
<li><a class="reference internal" href="#creation-d-un-it-composant">Création d’un IT composant</a><ul>
<li><a class="reference internal" href="#convention">1. Convention</a></li>
<li><a class="reference internal" href="#creation">2. Création</a></li>
<li><a class="reference internal" href="#lancement-des-it">3. lancement des IT</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#les-test-d-integration-systeme-sit">Les Test d’intégration Système (SIT)</a></li>
<li><a class="reference internal" href="#les-tests-d-acceptation">Les Tests d’acceptation</a></li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="mockito.html"
                        title="Chapitre précédent">Mockito</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="test fonctionnel.html"
                        title="Chapitre suivant">Les tests fonctionnels</a></p>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/test integration.rst.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="test fonctionnel.html" title="Les tests fonctionnels"
             >suivant</a> |</li>
        <li class="right" >
          <a href="mockito.html" title="Mockito"
             >précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Documentation Private v0.1</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="java.html" >Java</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="tests.html" >Tests</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, dorian delaval.
      Créé avec <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>