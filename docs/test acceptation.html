
<!DOCTYPE html>

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Tests d’acceptation &#8212; Documentation Private v0.1</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/translations.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="Git &amp; Github" href="git%20%26%20github.html" />
    <link rel="prev" title="Tests fonctionnels" href="test%20fonctionnel.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="git%20%26%20github.html" title="Git &amp; Github"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="test%20fonctionnel.html" title="Tests fonctionnels"
             accesskey="P">précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Documentation Private v0.1</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="tests.html" accesskey="U">Tests</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Tests d’acceptation</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="tests-d-acceptation">
<h1>Tests d’acceptation<a class="headerlink" href="#tests-d-acceptation" title="Lien permanent vers cette rubrique">¶</a></h1>
<section id="definition">
<h2>Définition<a class="headerlink" href="#definition" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>Permettent de vérifier directement les exigeances métier exprimé par le client. Ils sont indépendants des test unitaires d’intégration classiques et des test de fonctionnnels. Ils se situent en travers de la pyramide !</p>
<p>En général on fera des tests d’acceptation le plus tot possible avec des test d’intégration systeme (SIT).
On utilisera les <strong>&#64;Tag</strong> pour les regrouper parmis les SIT.</p>
</section>
<section id="atdd-tdd-de-londres">
<h2><strong>ATDD/TDD</strong> de Londres<a class="headerlink" href="#atdd-tdd-de-londres" title="Lien permanent vers cette rubrique">¶</a></h2>
<p><strong>Acceptance Test Driven Developement</strong></p>
<section id="demarche-a-suivre">
<h3>Démarche a suivre<a class="headerlink" href="#demarche-a-suivre" title="Lien permanent vers cette rubrique">¶</a></h3>
<p>On commence par les Test d’accaptation et ensuite on descend la pyramide</p>
<a class="reference internal image-reference" href="_images/ATDD.png"><img alt="Attd" class="align-center" src="_images/ATDD.png" style="width: 60%;" /></a>
</section>
<section id="convention">
<h3>Convention<a class="headerlink" href="#convention" title="Lien permanent vers cette rubrique">¶</a></h3>
<p>Tout comme les tests unitaires RED-GREEN-REFACTOR on a le schéma suivant:</p>
<a class="reference internal image-reference" href="_images/ATDD-RGR.png"><img alt="RED-GREEN-REFACTOR" class="align-center" src="_images/ATDD-RGR.png" style="width: 60%;" /></a>
</section>
<section id="creation-par-l-exemple">
<h3>Création par l’exemple<a class="headerlink" href="#creation-par-l-exemple" title="Lien permanent vers cette rubrique">¶</a></h3>
<p>On part de la user story(notre test d’acceptation) :</p>
<p><strong>« un utilisateur doit pouvoir additionner deux nombres et voir leur somme »</strong></p>
<section id="etape-1">
<h4>Etape 1<a class="headerlink" href="#etape-1" title="Lien permanent vers cette rubrique">¶</a></h4>
<p>Commencez par écrire un test fonctionnel rouge.</p>
<p>Ce test ne doit pas se préoccuper de l’aspect de la page web, mais peut automatiser la visite d’une page web, la sélection de deux nombres, et le clic sur un bouton « = ».</p>
</section>
<section id="etape-2">
<h4>Etape 2<a class="headerlink" href="#etape-2" title="Lien permanent vers cette rubrique">¶</a></h4>
<p>Exécutez le test rouge ci-dessous, et il échouera car vous n’avez pas construit votre serveur web :</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text"><strong>TA</strong></span><a class="headerlink" href="#id1" title="Lien permanent vers ce tableau">¶</a></caption>
<colgroup>
<col style="width: 33.3%" />
<col style="width: 33.3%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type de test</p></th>
<th class="head"><p>Nom du test</p></th>
<th class="head"><p>Ce qui est testé</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Test d’acceptation</p></td>
<td><p>un utilisateur doit pouvoir additionner deux nombres et voir leur somme</p></td>
<td><p>Un utilisateur visite une page , entre 2 nbres, clique sur « = » et voit le résultat</p></td>
</tr>
</tbody>
</table>
</section>
<section id="etape-3">
<h4>Etape 3<a class="headerlink" href="#etape-3" title="Lien permanent vers cette rubrique">¶</a></h4>
<p>Ecrivez un test d’intégration pour un serveur web auquel vous pouvez envoyer deux nombres :</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text"><strong>IT</strong></span><a class="headerlink" href="#id2" title="Lien permanent vers ce tableau">¶</a></caption>
<colgroup>
<col style="width: 33.3%" />
<col style="width: 33.3%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type de test</p></th>
<th class="head"><p>Nom du test</p></th>
<th class="head"><p>Ce qui est testé</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Test d’acceptation</p></td>
<td><p>un utilisateur doit pouvoir additionner deux nombres et voir leur somme</p></td>
<td><p>Un utilisateur visite une page , entre 2 nbres, clique sur « = » et voit le résultat</p></td>
</tr>
</tbody>
</table>
</section>
<section id="etape-4">
<h4>Etape 4<a class="headerlink" href="#etape-4" title="Lien permanent vers cette rubrique">¶</a></h4>
<p>Choisissez votre framework favori (comme Spring Boot) pour construire un contrôleur auquel vous pouvez envoyer deux nombres</p>
</section>
<section id="etape-5">
<h4>Etape 5<a class="headerlink" href="#etape-5" title="Lien permanent vers cette rubrique">¶</a></h4>
<p>Exécutez vos tests de bout en bout et d’intégration rouge : le serveur ne fait toujours rien de vos nombres</p>
</section>
<section id="etape-6">
<h4>Etape 6<a class="headerlink" href="#etape-6" title="Lien permanent vers cette rubrique">¶</a></h4>
<p>Ecrivez un cas de test unitaire rouge pour de nouvelles classe et méthode :</p>
<p><strong>Calculator.add(Integer a, Integer b) ;</strong></p>
</section>
<section id="etape-7">
<h4>Etape 7<a class="headerlink" href="#etape-7" title="Lien permanent vers cette rubrique">¶</a></h4>
<p>Créez Calculator.add, et vos tests sont rouges :</p>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text"><strong>IT</strong></span><a class="headerlink" href="#id3" title="Lien permanent vers ce tableau">¶</a></caption>
<colgroup>
<col style="width: 33.3%" />
<col style="width: 33.3%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type de test</p></th>
<th class="head"><p>Nom du test</p></th>
<th class="head"><p>Ce qui est testé</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Unitaire</strong></p></td>
<td><p>add_Sums_PositiveAndPositive</p></td>
<td><p>Calculator.add(1, 1)</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Unitaire</strong></p></td>
<td><p>add_Sums_NegativeAndPositive</p></td>
<td><p>Calculator.add(-1, 1)</p></td>
</tr>
<tr class="row-even"><td><p><strong>Unitaire</strong></p></td>
<td><p>add_Sums_NegativeAndNegative</p></td>
<td><p>Calculator.add(-1, -1)</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Unitaire</strong></p></td>
<td><p>add_Sums_PositiveIntegerAndZero</p></td>
<td><p>Calculator.add(1, 0)</p></td>
</tr>
<tr class="row-even"><td><p><strong>Unitaire</strong></p></td>
<td><p>add_Sums_ZeroAndZero</p></td>
<td><p>Calculator.add(0, 0)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="etape-8">
<h4>Etape 8<a class="headerlink" href="#etape-8" title="Lien permanent vers cette rubrique">¶</a></h4>
<p>Faites fonctionner Calculator.add et tous vos tests passent au vert</p>
</section>
<section id="etape-9">
<h4>Etape 9<a class="headerlink" href="#etape-9" title="Lien permanent vers cette rubrique">¶</a></h4>
<p>Nettoyer Refactorez,votre code et assurez vous qu’il reste vert</p>
</section>
<section id="etape-10">
<h4>Etape 10<a class="headerlink" href="#etape-10" title="Lien permanent vers cette rubrique">¶</a></h4>
<p>Passez a l’ecriture des autres cas de test unitaire pour la meme fonctionnalité, en prenatn en compte les scénarios alternatifs/linmites</p>
</section>
<section id="etapes-11">
<h4>Etapes 11<a class="headerlink" href="#etapes-11" title="Lien permanent vers cette rubrique">¶</a></h4>
<p>Ecrivez un autre test d’intégration et répétez les Etapes 3 à 10</p>
<table class="docutils align-default" id="id4">
<caption><span class="caption-text"><strong>IT</strong></span><a class="headerlink" href="#id4" title="Lien permanent vers ce tableau">¶</a></caption>
<colgroup>
<col style="width: 33.3%" />
<col style="width: 33.3%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type de test</p></th>
<th class="head"><p>Nom du test</p></th>
<th class="head"><p>Ce qui est testé</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Intégration</strong></p></td>
<td><p>GivenBadValue_WhenAdd_ThenAnErrorIsReturned</p></td>
<td><p>Le serveur démarre, le controle valide l’input et fournit une erreur</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Unitaire</strong></p></td>
<td><p>add_ThrowsException_AddingToNull</p></td>
<td><p>Calculator.add(null, 1)</p></td>
</tr>
<tr class="row-even"><td><p><strong>Unitaire</strong></p></td>
<td><p>add_ThrowsException_AddingNull</p></td>
<td><p>Calculator.add(-1, null)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="bdd">
<h2><strong>BDD</strong><a class="headerlink" href="#bdd" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>La Behavior Driven Developement.
Il s’agit du meme principe que l’ATDD sauf que l’on veut garder un langage naturel pour qu’il soit compris par un utilisateur ou le product Owner</p>
<section id="base-de-depart">
<h3>Base de départ<a class="headerlink" href="#base-de-depart" title="Lien permanent vers cette rubrique">¶</a></h3>
<p>On part donc non plus d’une user story mais d”<strong>un récit utilisateur</strong> ie:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Fonctionnalité:</strong>     Additionner deux nombres</p>
<p><strong>Que veut l’étudiant:</strong>
En tant qu’étudiant, je veux additionner deux nombres positifs pour pouvoir faire des calculs plus complexes</p>
<p><strong>Exemple:</strong>
En supposant qu’un éleve utilise le calculateur quand 2e t5 sont additionnés, on devrait montrer 7 a l’étudiant</p>
</div>
</section>
<section id="cucumber">
<h3>Cucumber<a class="headerlink" href="#cucumber" title="Lien permanent vers cette rubrique">¶</a></h3>
<p>c’est un outils qui permet d’automatiser le dev en BDD</p>
<ul class="simple">
<li><p>il décrit <strong>des scénaris avec le langage naturel dans un fichier .feature</strong></p></li>
<li><p>permet ensuite de créer des <strong>tests d’acceptation lisible par un client avec un lanceur CucumberAIT.java</strong></p></li>
<li><p>permet ensuite de créer des <strong>tests d’intégration avec des classes type Step</strong> récupérant les GIVEN WHEN ET THEN correspondant à ceux du fichier .feature</p></li>
</ul>
<p>du coup les tests sont beaucoup plus lisibles pour tout le monde</p>
<section id="configuration">
<h4>configuration<a class="headerlink" href="#configuration" title="Lien permanent vers cette rubrique">¶</a></h4>
<section id="pom-xml">
<h5>1. pom.xml<a class="headerlink" href="#pom-xml" title="Lien permanent vers cette rubrique">¶</a></h5>
<p>Il faut parametrer le <strong>pom xml</strong> avec les dépendances suivantes</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- https://mvnrepository.com/artifact/org.junit.vintage/junit-vintage-engine --&gt;</span>
<span class="cm">&lt;!-- permet d&#39;utiliser Junit 4 avec Junit5 car cucumber fonctionne avec le Junit4 --&gt;</span>

            <span class="nt">&lt;dependency&gt;</span>
                <span class="nt">&lt;groupId&gt;</span>org.junit.vintage<span class="nt">&lt;/groupId&gt;</span>
                <span class="nt">&lt;artifactId&gt;</span>junit-vintage-engine<span class="nt">&lt;/artifactId&gt;</span>
                <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
            <span class="nt">&lt;/dependency&gt;</span>
<span class="cm">&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-spring --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>io.cucumber<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>cucumber-spring<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>${cucumber.version}<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="cm">&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>io.cucumber<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>cucumber-junit<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>${cucumber.version}<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="cm">&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>io.cucumber<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>cucumber-java<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>6.9.1<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>

<span class="cm">&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java8 --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>io.cucumber<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>cucumber-java8<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>6.9.1<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>
</div>
</section>
<section id="fichier-feature">
<h5>2.Fichier .feature<a class="headerlink" href="#fichier-feature" title="Lien permanent vers cette rubrique">¶</a></h5>
<p>On crée un fichier feature que l’on place dans <strong>src/test/resources/features</strong></p>
<p>ce fichier est en gherkin et ressemble à cela.</p>
<p>C’est le récit utilisateur mais sous forme de user story e avec critére d’acceptation</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span>#language:fr

Fonctionnalité:  Additioner deux nombres


Scénario: Additionner deux nombres positifss
    Etant donné un élève utilise le Calculateur
    Quand 2 et 5 sont additionnés
    Alors on montre 7 à l&#39;élève
</pre></div>
</div>
</section>
<section id="lanceur-cucumberait-java">
<h5>3. Lanceur CucumberAIT.java<a class="headerlink" href="#lanceur-cucumberait-java" title="Lien permanent vers cette rubrique">¶</a></h5>
<p>On crée un lanceur vide qui va juste indiquer a Spring que l’on travaille avec cucumber</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span><span class="w"> </span><span class="nn">com.openclassrooms.testing.calcul.acceptance</span><span class="p">;</span><span class="w"></span>

<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.runner.RunWith</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">io.cucumber.java.en.Given</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">io.cucumber.java.en.Then</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">io.cucumber.java.en.When</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">io.cucumber.junit.Cucumber</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">io.cucumber.junit.CucumberOptions</span><span class="p">;</span><span class="w"></span>

<span class="nd">@RunWith</span><span class="p">(</span><span class="n">Cucumber</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<span class="nd">@CucumberOptions</span><span class="p">(</span><span class="n">features</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;src/test/resources/features&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">plugin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;pretty&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;html:target/html-cucumber-report&quot;</span><span class="p">})</span><span class="w"></span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CucumberAIT</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="creation-du-sit">
<h5>4. Création du SIT<a class="headerlink" href="#creation-du-sit" title="Lien permanent vers cette rubrique">¶</a></h5>
<p>on  a plus qu’a ecrire le SIT dans une classe calculatorStep.java</p>
<ul class="simple">
<li><p>on n’utilise pas les mocks ( non utilisable par cucumber) : on mets l’annotation <strong>&#64;AutoConfigureMockMvc</strong></p></li>
<li><p>Ne pas oublier l’annotation <strong>&#64;SpringBootTest &amp; &#64;CucumberContextConfiguration</strong> pour indiquer a springboot que c’est un test et le mettre dans le context</p></li>
</ul>
<p>On remarque les &#64; GIVEN, WHEN, THEN qui reprénnent les String du fichier .Feature et de plus on récupére les arguments « 2 » « 5 » et « 7 » grace au  {int} …  (configurable et réutilisiation pour d’autre fonctionnalité )</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@SpringBootTest</span><span class="w"></span>
<span class="nd">@CucumberContextConfiguration</span><span class="w"></span>
<span class="nd">@AutoConfigureMockMvc</span><span class="w"></span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CalculatorSteps</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="nd">@Inject</span><span class="w"></span>
<span class="n">MockMvc</span><span class="w"> </span><span class="n">mockMvc</span><span class="p">;</span><span class="w"></span>

<span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">lastLeftArgument</span><span class="p">;</span><span class="w"></span>
<span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">lastRightArgument</span><span class="p">;</span><span class="w"></span>
<span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">calculationType</span><span class="p">;</span><span class="w"></span>

<span class="nd">@Given</span><span class="p">(</span><span class="s">&quot;un élève utilise le Calculateur&quot;</span><span class="p">)</span><span class="w"></span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">a_student_is_using_the_Calculator</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">mockMvc</span><span class="p">.</span><span class="na">perform</span><span class="p">(</span><span class="n">MockMvcRequestBuilders</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;/calculator&quot;</span><span class="p">))</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="na">andExpect</span><span class="p">(</span><span class="n">MockMvcResultMatchers</span><span class="p">.</span><span class="na">status</span><span class="p">().</span><span class="na">is2xxSuccessful</span><span class="p">());</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="nd">@When</span><span class="p">(</span><span class="s">&quot;{int} et {int} sont additionnés&quot;</span><span class="p">)</span><span class="w"></span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">and_are_added</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">leftArgument</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">rightArgument</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">lastLeftArgument</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">leftArgument</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">lastRightArgument</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rightArgument</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">calculationType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ADDITION&quot;</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="nd">@Then</span><span class="p">(</span><span class="s">&quot;on montre {int} à l&#39;élève&quot;</span><span class="p">)</span><span class="w"></span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">the_student_is_shown</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">expectedResult</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MvcResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mockMvc</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="na">perform</span><span class="p">(</span><span class="n">MockMvcRequestBuilders</span><span class="p">.</span><span class="na">post</span><span class="p">(</span><span class="s">&quot;/calculator&quot;</span><span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="p">.</span><span class="na">param</span><span class="p">(</span><span class="s">&quot;leftArgument&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">lastLeftArgument</span><span class="p">.</span><span class="na">toString</span><span class="p">())</span><span class="w"></span>
<span class="w">            </span><span class="p">.</span><span class="na">param</span><span class="p">(</span><span class="s">&quot;rightArgument&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">lastRightArgument</span><span class="p">.</span><span class="na">toString</span><span class="p">())</span><span class="w"></span>
<span class="w">            </span><span class="p">.</span><span class="na">param</span><span class="p">(</span><span class="s">&quot;calculationType&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">calculationType</span><span class="p">))</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="na">andExpect</span><span class="p">(</span><span class="n">MockMvcResultMatchers</span><span class="p">.</span><span class="na">status</span><span class="p">().</span><span class="na">is2xxSuccessful</span><span class="p">()).</span><span class="na">andReturn</span><span class="p">();</span><span class="w"></span>

<span class="w">    </span><span class="n">assertThat</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">getResponse</span><span class="p">().</span><span class="na">getContentAsString</span><span class="p">()).</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;&gt;&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">expectedResult</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;&lt;&quot;</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table des matières</a></h3>
    <ul>
<li><a class="reference internal" href="#">Tests d’acceptation</a><ul>
<li><a class="reference internal" href="#definition">Définition</a></li>
<li><a class="reference internal" href="#atdd-tdd-de-londres"><strong>ATDD/TDD</strong> de Londres</a><ul>
<li><a class="reference internal" href="#demarche-a-suivre">Démarche a suivre</a></li>
<li><a class="reference internal" href="#convention">Convention</a></li>
<li><a class="reference internal" href="#creation-par-l-exemple">Création par l’exemple</a><ul>
<li><a class="reference internal" href="#etape-1">Etape 1</a></li>
<li><a class="reference internal" href="#etape-2">Etape 2</a></li>
<li><a class="reference internal" href="#etape-3">Etape 3</a></li>
<li><a class="reference internal" href="#etape-4">Etape 4</a></li>
<li><a class="reference internal" href="#etape-5">Etape 5</a></li>
<li><a class="reference internal" href="#etape-6">Etape 6</a></li>
<li><a class="reference internal" href="#etape-7">Etape 7</a></li>
<li><a class="reference internal" href="#etape-8">Etape 8</a></li>
<li><a class="reference internal" href="#etape-9">Etape 9</a></li>
<li><a class="reference internal" href="#etape-10">Etape 10</a></li>
<li><a class="reference internal" href="#etapes-11">Etapes 11</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#bdd"><strong>BDD</strong></a><ul>
<li><a class="reference internal" href="#base-de-depart">Base de départ</a></li>
<li><a class="reference internal" href="#cucumber">Cucumber</a><ul>
<li><a class="reference internal" href="#configuration">configuration</a><ul>
<li><a class="reference internal" href="#pom-xml">1. pom.xml</a></li>
<li><a class="reference internal" href="#fichier-feature">2.Fichier .feature</a></li>
<li><a class="reference internal" href="#lanceur-cucumberait-java">3. Lanceur CucumberAIT.java</a></li>
<li><a class="reference internal" href="#creation-du-sit">4. Création du SIT</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Sujet précédent</h4>
    <p class="topless"><a href="test%20fonctionnel.html"
                          title="Chapitre précédent">Tests fonctionnels</a></p>
  </div>
  <div>
    <h4>Sujet suivant</h4>
    <p class="topless"><a href="git%20%26%20github.html"
                          title="Chapitre suivant">Git &amp; Github</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/test acceptation.rst.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="git%20%26%20github.html" title="Git &amp; Github"
             >suivant</a> |</li>
        <li class="right" >
          <a href="test%20fonctionnel.html" title="Tests fonctionnels"
             >précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Documentation Private v0.1</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="tests.html" >Tests</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Tests d’acceptation</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, dorian delaval.
      Créé en utilisant <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
  </body>
</html>